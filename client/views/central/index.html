<section class="content-header">
	<h1>
		Centrale d'achat
	</h1>
	<ol class="breadcrumb">
		<li><a href="#/"><i class="fa fa-dashboard"></i> Dashboard</a></li>
		<li class="active">Centrale d'achat</li>
	</ol>
</section>

<section class="content">
	<div class="row">
		<div class="col-lg-12">
			<div class="box">
				<div class="box-header">
					<h3 class="box-title">Produits en stock</h3>
					</div><!-- /.box-header -->
				<div class="box-body table-responsive no-padding">
					<table class="table table-hover">
						<tr>
							<th></th>
							<th>#</th>
							<th>Nom</th>
							<th>Quantité disponible</th>
						</tr>
						<tbody ng-repeat="product in products">
							<tr>
								<td>
									<button ng-show="selectedProduct.id != product.id" class="btn btn-success btn-xs" ng-click="load(product, true)"><span class="fa fa-plus"></span></button>
									<button ng-show="selectedProduct.id == product.id" class="btn btn-danger btn-xs" ng-click="load(product, false)"><span class="fa fa-ellipsis-h"></span></button>
								</td>
								<td>{{ product.id }}</td>
								<td>{{ product.name }}</td>
								<!-- <td>{{ selectedProduct }}</td> -->
								<td>
									<span ng-if="product.quantity > 9" class="label label-success">{{ product.quantity }}</span>
									<span ng-if="product.quantity < 10" class="label label-danger">{{ product.quantity }}</span>
								</td>
							</tr>
							<tr ng-show="selectedProduct.id">
								<td colspan="4" style="padding:0">
									<table class="table">
										<tr ng-repeat="log in product.logs">
											<td ng-if="log.quantity > 0" class="success">Entrée</td>
											<td ng-if="log.quantity < 0" class="danger">Sortie</td>
											<td>{{ log.quantity }}</td>
											<td>{{ log.created_at }}</td>
										</tr>
									</table>
								</td>
							</tr>
						</tbody>
					</table>
				</div><!-- /.box-body -->
			</div>
		</div>
	</div>
</section><!-- /.content -->